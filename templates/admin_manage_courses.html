{% extends "_layout.html" %}

{% block title %}Quản lý Môn học{% endblock %}

{% block content %}
    <h2>Quản lý Môn học</h2>
    <a href="{{ url_for('admin_add_course') }}">Thêm Môn học mới</a>

    ...
    <table class="data-table">
        <thead>
            <tr>
                <th>Ma Môn học</th>
                <th>Tên Môn học</th>
                <th style="width: 80px; text-align: center;">Học kỳ</th>
                <th style="width: 80px; text-align: center;">Số tín chỉ</th>
                <th style="width: 190px; text-align: center;">Tỷ lệ điểm (CC/TH/GK/CK)</th>
                <th style="width: 150px;">Hành động</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td>{{ course.ma_mh }}</td>
                <td>{{ course.ten_mh }}</td>
                <td style="text-align: center;">{{ course.hoc_ky }}</td>
                <td style="text-align: center;">{{ course.so_tin_chi }}</td>
                <td style="text-align: center;">
                    {{ course.ty_le_chuyen_can|round(2) }}% / {{ course.ty_le_thuc_hanh|round(2) }}% / {{ course.ty_le_giua_ky|round(2) }}% / {{ course.ty_le_cuoi_ky|round(2) }}%
                </td>
                <td class="action-buttons">
                    <a href="{{ url_for('admin_edit_course', ma_mh=course.ma_mh) }}" class="btn btn-edit">Sửa</a>
                    
                    <form method="POST" action="{{ url_for('admin_delete_course', ma_mh=course.ma_mh) }}" 
                          onsubmit="return confirm('Bạn có chắc muốn xóa môn học {{ course.ten_mh }}? Thao tác này sẽ xóa cả ĐIỂM THI của sinh viên liên quan đến môn này.');"
                          style="margin: 0;"> <input type="submit" value="Xóa" class="btn btn-delete">
                    </form>
                </td>
                </tr>
            {% else %}
            <tr>
                <td colspan="6">Chưa có môn học nào.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
...
{% endblock %}